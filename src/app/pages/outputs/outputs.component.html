<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Outputs</h1>
    <div class="btn-toolbar mb-2 mb-md-0">
      <ul class="nav nav-pills m-3" id="pills-tab" role="tablist">
        @for(navbarLink of navbarLinks; track navbarLink.name) {
          <li class="nav-item mr-2" role="presentation">
              <button [class]="navbarLink.selected ? 'nav-link active btn-sm' : 'nav-link btn-sm'" [id]="navbarLink.id" data-bs-toggle="pill" [attr.data-bs-target]="navbarLink.target" type="button" role="tab" [attr.aria-controls]="navbarLink.controls" [attr.aria-selected]="navbarLink.selected" [disabled]="navbarLink.disabled">{{navbarLink.name}}</button>
          </li>
        }
      </ul>
    </div>
</div>
<div *ngIf="daemonRunning" class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-outputs-overview" role="tabpanel" aria-labelledby="pills-outputs-overview-tab" tabindex="0">
    
    <table
      [hidden]="getOutsOuts.length == 0"
      id="outsTable"
      data-toggle="outsTable"
      data-toolbar="#toolbar"
      data-height="460"
      >
      <thead>
      <tr>
          <th data-field="height">Height</th>
          <th data-field="key">Key</th>
          <th data-field="mask">Mask</th>
          <th data-field="txId">Tx ID</th>
          <th data-field="unlocked">Unlocked</th>
      </tr>
      </thead>
    </table>
  </div>
  
  <div class="tab-pane fade" id="pills-is-key-image-spent" role="tabpanel" aria-labelledby="pills-is-key-image-spent-tab" tabindex="0">
    <div *ngIf="isKeyImageSpentError != ''" class="alert alert-danger d-flex align-items-center justify-content-center text-center" role="alert">
      <h4><i class="bi bi-exclamation-triangle m-2"></i></h4>&nbsp;&nbsp;
      <div>
        {{ isKeyImageSpentError }}
      </div>
    </div>

    <div class="row g-5 p-2">
      <div class="cold-md-7 col-lg-12">
        <div class="row gy-3">
          <h4 class="mb-3">Check if outputs have been spent using the key image associated with the output</h4>

          <div class="col-sm-12">
            <label for="key-images" class="form-label">Key images</label>
            <textarea [(ngModel)]="keyImages" [ngModelOptions]="{standalone: true}" type="text" class="form-control" id="key-images" placeholder="" 
            rows="15" cols="15" ></textarea>
            <div class="invalid-feedback">
              Invalid key images.
            </div>
        </div>

        </div>
      </div>

      <hr class="my-4">

      <button *ngIf="!gettingKeyImages" class="w-100 btn btn-primary btn-lg" type="button" (click)="isKeyImageSpent()">Is Key Image Spent</button>
      <button *ngIf="gettingKeyImages" class="w-100 btn btn-primary btn-lg" type="button" disabled>Checking Key Images ...</button>

    </div>
  </div>
</div>
<app-daemon-not-running></app-daemon-not-running>
<app-daemon-stopping></app-daemon-stopping>